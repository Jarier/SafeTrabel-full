<div class="container mx-auto p-4">
    <div class="mb-4 flex justify-between items-center">
      <h2 class="text-2xl font-bold text-green-700">Gestión de Usuarios</h2>
      <button (click)="addNewUser()" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded">
        Agregar Usuario
      </button>
    </div>

    <div class="mb-4">
      <input 
        [(ngModel)]="searchTerm"
        (ngModelChange)="applyFilter()"
        placeholder="Buscar usuarios..."
        class="p-2 border border-green-300 rounded w-full"
      >
    </div>

    <div class="overflow-x-auto bg-white shadow-md rounded">
      <table class="min-w-full table-auto">
        <thead class="bg-green-500 text-white">
          <tr>
            <th class="px-4 py-2">Usuario</th>
            <th class="px-4 py-2">Email</th>
            <th class="px-4 py-2">Contraseña</th>
            <th class="px-4 py-2">Rol</th>
            <th class="px-4 py-2">Fecha de Creación</th>
            <th class="px-4 py-2">Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of displayedUsers" class="border-b border-green-200 hover:bg-green-50">
            <td class="px-4 py-2">{{ user.username }}</td>
            <td class="px-4 py-2">{{ user.email }}</td>
            <td class="px-4 py-2">••••••••</td>
            <td class="px-4 py-2">{{ user.role }}</td>
            <td class="px-4 py-2">{{ user.createdAt | date:'short' }}</td>
            <td class="px-4 py-2">
              <button (click)="editUser(user)" class="text-blue-500 hover:text-blue-700 mr-2">
                <mat-icon>edit</mat-icon>
              </button>
              <button (click)="deleteUser(user)" class="text-red-500 hover:text-red-700">
                <mat-icon>delete</mat-icon>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <mat-paginator 
      [length]="filteredUsers.length"
      [pageSize]="pageSize"
      [pageSizeOptions]="[5, 10, 25, 100]"
      (page)="onPageChange($event)"
      class="bg-white mt-4"
    >
    </mat-paginator>
  </div>